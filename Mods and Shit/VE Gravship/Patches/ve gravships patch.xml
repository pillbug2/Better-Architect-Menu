<?xml version="1.0" encoding="utf-8" ?>
<Patch>

<!-- Ferny's new stuff -->

<!-- SPACE PLATFORM -->
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/TerrainDef[defName="VGE_GravshipSubscaffold"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="VGE_VacBarrierBase"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="GravEngine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="VGE_GravjumperEngine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="VGE_GravhulkEngine"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="VGE_GravFieldAmplifier"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_CommsTerminal"]</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_PilotCockpit"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_PilotCockpit"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CopilotConsole"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="VGE_BaseHeatsink"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="VGE_EngineeringConsole"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GravtechConsole"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_PilotBridge"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePlatform</designationCategory>
		</value>
	</Operation>


<!-- VACUUM -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_SealantPopper"]</xpath>
		<value>
			<designationCategory>Ferny_SpaceVacuum</designationCategory>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_VacCheckpoint"]</xpath>
		<value>
			<designationCategory>Ferny_SpaceVacuum</designationCategory>
		</value>
	</Operation>












<!-- Old stuff, disoragnized and modified -->
	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/DesignationCategoryDef[defName="VCHE_PipeNetworks"]</xpath>
		<match Class="PatchOperationAddModExtension">
			<success>Always</success>
			<xpath>Defs/DesignationCategoryDef[defName="Ferny_AstrofuelNetwork"]</xpath>
			<value>
				<li Class="BetterArchitect.NestedCategoryExtension">
					<parentCategory>VCHE_PipeNetworks</parentCategory>
				</li>
			</value>
		</match>
	</Operation>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/DesignationCategoryDef[defName="VCHE_PipeNetworks"]</xpath>
		<match Class="PatchOperationAddModExtension">
			<success>Always</success>
			<xpath>Defs/DesignationCategoryDef[defName="Ferny_OxygenNetwork"]</xpath>
			<value>
				<li Class="BetterArchitect.NestedCategoryExtension">
					<parentCategory>VCHE_PipeNetworks</parentCategory>
				</li>
			</value>
		</match>
	</Operation>
	
<!-- ASTROFUEL -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/PipeSystem.PipeNetDef[defName="VGE_AstrofuelNet"]/designator/designationCategoryDef</xpath>
		<value>
			<designationCategoryDef>Ferny_AstrofuelNetwork</designationCategoryDef>
		</value>
	</Operation>

	<!-- Vanilla chemfuel tanks are repurposed as astrofuel tanks -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="ChemfuelTank"]</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="LargeChemfuelTank"]</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GiantAstrofuelTank"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelPipe"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelValve"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelTap"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelDrain"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelSynthesizer"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_AstrofuelNetwork</designationCategory>
		</value>
	</Operation>
	
<!-- OXYGEN -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/PipeSystem.PipeNetDef[defName="VGE_OxygenNet"]/designator/designationCategoryDef</xpath>
		<value>
			<designationCategoryDef>Ferny_OxygenNetwork</designationCategoryDef>
		</value>
	</Operation>

	<!-- Move vanilla oxygen pump as it uses this network now. -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="OxygenPump"]</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenPipe"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenValve"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_SmallOxygenTank"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_LargeOxygenTank"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenCanisterFiller"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenCanisterEmptier"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_OxygenHarvester"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_LifeSupportSystem"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_IndustrialOxygenPump"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_OxygenNetwork</designationCategory>
		</value>
	</Operation>

<!-- DECORATIONS -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_FauxPlant"]</xpath>
		<value>
			<designationCategory>Ferny_Decorations</designationCategory>
		</value>
	</Operation>

<!-- KITCHEN -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_CompactStove"]</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactStove"]/designatorDropdown</xpath>
	</Operation>
	
<!-- PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactDrugLab"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactMachiningTable"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactSmithy"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactTailor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactFabBench"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactDrugLab"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactMachiningTable"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactSmithy"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactTailor"]/designatorDropdown</xpath>
	</Operation>
	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactFabBench"]/designatorDropdown</xpath>
	</Operation>
	
<!-- PROCESSING PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_CompactRefinery"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VGE_CompactRefinery"]/designatorDropdown</xpath>
	</Operation>

<!-- WEAPONS -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[@Name="VGE_GravshipBuildingBase"]</xpath>
		<value>
			<designationCategory>Ferny_SpaceCombat</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[@Name="VGE_GravshipArtilleryBase"]</xpath>
		<value>
			<designationCategory>Ferny_SpaceCombat</designationCategory>
		</value>
	</Operation>
	
<!-- COMBAT INFRASTRUCTURE -->


	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_TargetingTerminal"]</xpath>
		<value>
			<designationCategory>Ferny_SpaceCombat</designationCategory>
		</value>
	</Operation>

<!-- GENERAL STORAGE -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_GravshipShelf"]</xpath>
		<value>
			<designationCategory>Ferny_VehicleStorage</designationCategory>
		</value>
	</Operation>

<!-- FIREFOAM -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_WallFirefoamPopper"]</xpath>
		<value>
			<designationCategory>Ferny_Firefoam</designationCategory>
		</value>
  </Operation>

<!-- OUTREACH -->


	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_WallOrbitalTradeBeacon"]</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>

<!-- POWER GENERATION -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_AstrofuelGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_IndustrialAstrofuelGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GravcorePowerCoil"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePower</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_SolarPanelling"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePower</designationCategory>
		</value>
	</Operation>
	

<!-- POWER STORAGE -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_GravshipCapacitor"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpacePower</designationCategory>
		</value>
	</Operation>

<!-- FARMING -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[defName="VGE_Agrocell"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceProduction</designationCategory>
		</value>
	</Operation>
	
<!-- BEDROOM -->

	<Operation Class="PatchOperationReplace">
		<xpath>Defs/ThingDef[@Name="VGE_GravshipLivingBedBase"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_SpaceFurniture</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_CrewLockers"]</xpath>
		<value>
			<designationCategory>Ferny_VehicleStorage</designationCategory>
		</value>
	</Operation>
	
<!-- MEDICAL -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VGE_MedbayBed"]</xpath>
		<value>
			<designationCategory>Ferny_SpaceFurniture</designationCategory>
		</value>
	</Operation>
	
</Patch>
